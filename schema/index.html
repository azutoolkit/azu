
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://eliasjpr.github.io/azu/schema/">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.6">
    
    
      
        <title>Schema - Azu Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-gray" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://eliasjpr.github.io/azu/" title="Azu Toolkit" class="md-header-nav__button md-logo" aria-label="Azu Toolkit">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Azu Toolkit
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Schema
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eliasjpr/azu/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../authly/" class="md-tabs__link">
        Authly
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../echo/" class="md-tabs__link">
        Echo
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../flux/" class="md-tabs__link">
        Flux
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../joobq/" class="md-tabs__link">
        Joobq
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Schema
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../azu/Azu/" class="md-tabs__link">
        Azu
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://eliasjpr.github.io/azu/" title="Azu Toolkit" class="md-nav__button md-logo" aria-label="Azu Toolkit">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Azu Toolkit
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eliasjpr/azu/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        Authly
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Authly" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Authly
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../authly/" class="md-nav__link">
        Authly
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        Echo
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Echo" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          Echo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../echo/" class="md-nav__link">
        ECHO
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Flux
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Flux" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Flux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../flux/" class="md-nav__link">
        flux
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Joobq
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Joobq" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Joobq
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../joobq/" class="md-nav__link">
        JoobQ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
      
      <label class="md-nav__link" for="nav-6">
        Schema
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Schema" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          Schema
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Schema
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Schema
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-self-validated-schemas" class="md-nav__link">
    Defining Self Validated Schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-class-methods" class="md-nav__link">
    Schema class methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-instance-methods" class="md-nav__link">
    Schema instance methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parsing-http-params-with-nested-params" class="md-nav__link">
    Example parsing HTTP Params (With nested params)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-parsing-from-json" class="md-nav__link">
    Example parsing from JSON
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validations" class="md-nav__link">
    Validations
  </a>
  
    <nav class="md-nav" aria-label="Validations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-validations" class="md-nav__link">
    Custom Validations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-predicates" class="md-nav__link">
    Defining Predicates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-custom-validator-vs-predicates" class="md-nav__link">
    Differences: Custom Validator vs Predicates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-predicates" class="md-nav__link">
    Built in Predicates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributors" class="md-nav__link">
    Contributors
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        Azu
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Azu" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          Azu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/" class="md-nav__link">
        Azu
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/guiding-principle/" class="md-nav__link">
        Guiding Principles
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/installation%20/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5" type="checkbox" id="nav-7-5" >
      
      <label class="md-nav__link" for="nav-7-5">
        Azu
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Azu" data-md-level="2">
        <label class="md-nav__title" for="nav-7-5">
          <span class="md-nav__icon md-icon"></span>
          Azu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Channel/" class="md-nav__link">
        Channel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Component/" class="md-nav__link">
        Component
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Endpoint/" class="md-nav__link">
        Endpoint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/" class="md-nav__link">
        Handler
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Markup/" class="md-nav__link">
        Markup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Params/" class="md-nav__link">
        Params
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Request/" class="md-nav__link">
        Request
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Response/" class="md-nav__link">
        Response
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Router/" class="md-nav__link">
        Router
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-14" type="checkbox" id="nav-7-5-14" >
      
      <label class="md-nav__link" for="nav-7-5-14">
        Handler
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Handler" data-md-level="3">
        <label class="md-nav__title" for="nav-7-5-14">
          <span class="md-nav__icon md-icon"></span>
          Handler
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/IpSpoofing/" class="md-nav__link">
        IpSpoofing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/Logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/Rescuer/" class="md-nav__link">
        Rescuer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/Static/" class="md-nav__link">
        Static
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Handler/Throttle/" class="md-nav__link">
        Throttle
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-15" type="checkbox" id="nav-7-5-15" >
      
      <label class="md-nav__link" for="nav-7-5-15">
        Params
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Params" data-md-level="3">
        <label class="md-nav__title" for="nav-7-5-15">
          <span class="md-nav__icon md-icon"></span>
          Params
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Params/Form/" class="md-nav__link">
        Form
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Params/Multipart/" class="md-nav__link">
        Multipart
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-15-3" type="checkbox" id="nav-7-5-15-3" >
      
      <label class="md-nav__link" for="nav-7-5-15-3">
        Multipart
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Multipart" data-md-level="4">
        <label class="md-nav__title" for="nav-7-5-15-3">
          <span class="md-nav__icon md-icon"></span>
          Multipart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Params/Multipart/File/" class="md-nav__link">
        File
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-16" type="checkbox" id="nav-7-5-16" >
      
      <label class="md-nav__link" for="nav-7-5-16">
        Response
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Response" data-md-level="3">
        <label class="md-nav__title" for="nav-7-5-16">
          <span class="md-nav__icon md-icon"></span>
          Response
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Response/BadRequest/" class="md-nav__link">
        BadRequest
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Response/Error/" class="md-nav__link">
        Error
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Response/Forbidden/" class="md-nav__link">
        Forbidden
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Response/NotFound/" class="md-nav__link">
        NotFound
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-17" type="checkbox" id="nav-7-5-17" >
      
      <label class="md-nav__link" for="nav-7-5-17">
        Router
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Router" data-md-level="3">
        <label class="md-nav__title" for="nav-7-5-17">
          <span class="md-nav__icon md-icon"></span>
          Router
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Router/Builder/" class="md-nav__link">
        Builder
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Router/DuplicateRoute/" class="md-nav__link">
        DuplicateRoute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Router/Path/" class="md-nav__link">
        Path
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Router/Route/" class="md-nav__link">
        Route
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-5-18" type="checkbox" id="nav-7-5-18" >
      
      <label class="md-nav__link" for="nav-7-5-18">
        Templates
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Templates" data-md-level="3">
        <label class="md-nav__title" for="nav-7-5-18">
          <span class="md-nav__icon md-icon"></span>
          Templates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../azu/Azu/Templates/Renderable/" class="md-nav__link">
        Renderable
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-self-validated-schemas" class="md-nav__link">
    Defining Self Validated Schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-class-methods" class="md-nav__link">
    Schema class methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-instance-methods" class="md-nav__link">
    Schema instance methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parsing-http-params-with-nested-params" class="md-nav__link">
    Example parsing HTTP Params (With nested params)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-parsing-from-json" class="md-nav__link">
    Example parsing from JSON
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validations" class="md-nav__link">
    Validations
  </a>
  
    <nav class="md-nav" aria-label="Validations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-validations" class="md-nav__link">
    Custom Validations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-predicates" class="md-nav__link">
    Defining Predicates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-custom-validator-vs-predicates" class="md-nav__link">
    Differences: Custom Validator vs Predicates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-predicates" class="md-nav__link">
    Built in Predicates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributors" class="md-nav__link">
    Contributors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eliasjpr/azu/blob/master/docs/schema/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="schema">Schema</h1>
<p><a href="https://app.codacy.com/manual/eliasjpr/schema?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=eliasjpr/schema&amp;utm_campaign=Badge_Grade_Dashboard"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/bcab4bfe3c9c4c45a832fd724aa1ffea" /></a></p>
<p><img alt="Crystal CI" src="https://github.com/eliasjpr/schema/workflows/Crystal%20CI/badge.svg" /></p>
<p>Schemas come to solve a simple problem. Sometimes we would like to have type-safe guarantee parameters when parsing HTTP requests or Hash(String, String) for a request. Schema shard resolve precisely this problem with the added benefit of enabling self validating schemas that can be applied to any object, requiring little to no boilerplate code making you more productive from the moment you use this shard.</p>
<p>Self validating Schemas are beneficial, and in my opinion, ideal, for when defining API Requests, Web Forms, JSON.  Schema-Validation Takes a different approach and focuses a lot on explicitness, clarity, and precision of validation logic. It is designed to work with any data input, whether it’s a simple hash, an array or a complex object with deeply nested data.</p>
<p>Each validation is encapsulated by a simple, stateless predicate that receives some input and returns either true or false. Those predicates are encapsulated by rules which can be composed together using predicate logic, meaning you can use the familiar logic operators to build up a validation schema.</p>
<h2 id="installation">Installation</h2>
<p>Add this to your application's <code>shard.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">dependencies</span><span class="p">:</span>
  <span class="nt">schema</span><span class="p">:</span>
    <span class="nt">github</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">azutoolkit/schem</span>
</code></pre></div>
<h2 id="usage">Usage</h2>
<div class="highlight"><pre><span></span><code><span class="k">require</span> <span class="s2">&quot;schema&quot;</span>
</code></pre></div>
<h3 id="defining-self-validated-schemas">Defining Self Validated Schemas</h3>
<p>Schemas are defined as value objects, meaning structs, which are NOT mutable,
making them ideal to pass schema objects as arguments to constructors.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Example</span>
  <span class="k">include</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Definition</span>
  <span class="k">include</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Validation</span>

  <span class="bp">property</span> <span class="n">email</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">name</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">age</span> <span class="p">:</span> <span class="n">Int32</span>
  <span class="bp">property</span> <span class="n">alive</span> <span class="p">:</span> <span class="n">Bool</span>
  <span class="bp">property</span> <span class="n">childrens</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
  <span class="bp">property</span> <span class="n">childrens_ages</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Int32</span><span class="p">)</span>
  <span class="bp">property</span> <span class="n">last_name</span> <span class="p">:</span> <span class="n">String</span>

  <span class="n">use</span> <span class="n">EmailValidator</span><span class="p">,</span> <span class="n">UniqueRecordValidator</span>
  <span class="n">validate</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">match</span><span class="p">:</span> <span class="sr">/\w+@\w+\.\w{2,3}/</span><span class="p">,</span> <span class="ss">message</span><span class="p">:</span> <span class="s2">&quot;Email must be valid!&quot;</span>
  <span class="n">validate</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">size</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="p">)</span>
  <span class="n">validate</span> <span class="ss">:age</span><span class="p">,</span> <span class="ss">gte</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="ss">lte</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="ss">message</span><span class="p">:</span> <span class="s2">&quot;Age must be 18 and 25 years old&quot;</span>
  <span class="n">validate</span> <span class="ss">:alive</span><span class="p">,</span> <span class="ss">eq</span><span class="p">:</span> <span class="kc">true</span>
  <span class="n">validate</span> <span class="ss">:last_name</span><span class="p">,</span> <span class="ss">presence</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="ss">message</span><span class="p">:</span> <span class="s2">&quot;Last name is invalid&quot;</span>

  <span class="n">predicates</span> <span class="k">do</span>
    <span class="k">def</span> <span class="nf">some?</span><span class="p">(</span><span class="n">value</span> <span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">some</span><span class="p">)</span> <span class="p">:</span> <span class="n">Bool</span>
      <span class="p">(</span><span class="o">!</span><span class="n">value</span><span class="kp">.nil?</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">some</span><span class="kp">.nil?</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">if?</span><span class="p">(</span><span class="n">value</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Int32</span><span class="p">),</span> <span class="n">bool</span> <span class="p">:</span> <span class="n">Bool</span><span class="p">)</span> <span class="p">:</span> <span class="n">Bool</span>
      <span class="o">!</span><span class="n">bool</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@email</span><span class="p">,</span> <span class="vi">@name</span><span class="p">,</span> <span class="vi">@age</span><span class="p">,</span> <span class="vi">@alive</span><span class="p">,</span> <span class="vi">@childrens</span><span class="p">,</span> <span class="vi">@childrens_ages</span><span class="p">,</span> <span class="vi">@last_name</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="schema-class-methods">Schema class methods</h3>
<div class="highlight"><pre><span></span><code><span class="n">Example</span><span class="o">.</span><span class="n">from_json</span>
<span class="n">Example</span><span class="o">.</span><span class="n">from_urlencoded</span><span class="p">(</span><span class="s2">&quot;&amp;foo=bar&quot;</span><span class="p">)</span>
<span class="c1"># Any object that responds to `.each`, `#[]?`, `#[]`, `#fetch_all?`</span>
<span class="n">Example</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
<h3 id="schema-instance-methods">Schema instance methods</h3>
<div class="highlight"><pre><span></span><code><span class="n">valid?</span>    <span class="o">-</span> <span class="n">Bool</span>
<span class="n">validate!</span> <span class="o">-</span> <span class="n">True</span> <span class="n">or</span> <span class="n">Raise</span> <span class="n">ValidationError</span>
<span class="n">errors</span>    <span class="o">-</span> <span class="n">Errors</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">S</span><span class="p">)</span>
</code></pre></div>
<h3 id="example-parsing-http-params-with-nested-params">Example parsing HTTP Params (With nested params)</h3>
<p>Below find a list of the supported params parsing structure and it's corresponding representation in Query String or <code>application/x-www-form-urlencoded</code> form data. </p>
<div class="highlight"><pre><span></span><code><span class="n">http_params</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">::</span><span class="n">Params</span><span class="o">.</span><span class="n">build</span> <span class="k">do</span> <span class="o">|</span><span class="nb">p</span><span class="o">|</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;string_value&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_string&quot;</span><span class="p">,</span> <span class="s2">&quot;optional_string_value&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;string_with_default&quot;</span><span class="p">,</span> <span class="s2">&quot;string_with_default_value&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_int&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;int_with_default&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;enum&quot;</span><span class="p">,</span> <span class="s2">&quot;Foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_enum&quot;</span><span class="p">,</span> <span class="s2">&quot;Bar&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;enum_with_default&quot;</span><span class="p">,</span> <span class="s2">&quot;Baz&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;array[]&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;array[]&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;array[]&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_array[]&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_array[]&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;array_with_default[]&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;hash[foo]&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;hash[bar]&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_hash[foo][]&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_hash[foo][]&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_hash[bar][]&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;hash_with_default[foo]&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;tuple[]&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;tuple[]&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;tuple[]&quot;</span><span class="p">,</span> <span class="s2">&quot;3.5&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;optional_boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;boolean_with_default&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;nested[foo]&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;nested[bar]&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;nested[baz][]&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
  <span class="nb">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;nested[baz][]&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">params</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">::</span><span class="n">Params</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;email=test%40example.com&amp;name=john&amp;age=24&amp;alive=true&amp;childrens%5B%5D=Child1%2CChild2&amp;childrens_ages%5B%5D=12&amp;childrens_ages%5B%5D=18&amp;address%5Bcity%5D=NY&amp;address%5Bstreet%5D=Sleepy+Hollow&amp;address%5Bzip%5D=12345&amp;address%5Blocation%5D%5Blongitude%5D=41.085651&amp;address%5Blocation%5D%5Blatitude%5D=-73.858467&amp;address%5Blocation%5D%5Buseful%5D=true&quot;</span><span class="p">)</span>

<span class="c1"># HTTP::Params responds to `#[]`, `#[]?`, `#fetch_all?` and `.each`</span>
<span class="n">subject</span> <span class="o">=</span> <span class="n">ExampleController</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
<p>Accessing the generated schemas:</p>
<div class="highlight"><pre><span></span><code><span class="n">user</span>      <span class="o">=</span> <span class="n">subject</span><span class="o">.</span><span class="n">user</span>     <span class="o">-</span> <span class="n">Example</span>
<span class="n">address</span>   <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">address</span>     <span class="o">-</span> <span class="n">Example</span><span class="o">::</span><span class="n">Address</span>
<span class="n">location</span>  <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">location</span> <span class="o">-</span> <span class="n">Example</span><span class="o">::</span><span class="n">Address</span><span class="o">::</span><span class="n">Location</span>
</code></pre></div>
<h2 id="example-parsing-from-json">Example parsing from JSON</h2>
<div class="highlight"><pre><span></span><code><span class="n">json</span> <span class="o">=</span> <span class="sx">%({ &quot;user&quot;: {</span>
<span class="sx">      &quot;email&quot;: &quot;fake@example.com&quot;,</span>
<span class="sx">      &quot;name&quot;: &quot;Fake name&quot;,</span>
<span class="sx">      &quot;age&quot;: 25,</span>
<span class="sx">      &quot;alive&quot;: true,</span>
<span class="sx">      &quot;childrens&quot;: [&quot;Child 1&quot;, &quot;Child 2&quot;],</span>
<span class="sx">      &quot;childrens_ages&quot;: [9, 12]</span>
<span class="sx">    }})</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">Example</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="validations">Validations</h2>
<p>You can also perform validations for existing objects without the use of Schemas.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="n">Model</span>
  <span class="k">include</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Validation</span>

  <span class="bp">property</span> <span class="n">email</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">name</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">age</span> <span class="p">:</span> <span class="n">Int32</span>
  <span class="bp">property</span> <span class="n">alive</span> <span class="p">:</span> <span class="n">Bool</span>
  <span class="bp">property</span> <span class="n">childrens</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
  <span class="bp">property</span> <span class="n">childrens_ages</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Int32</span><span class="p">)</span>

  <span class="c1"># To use a custom validator. UniqueRecordValidator will be initialized with an `User` instance</span>
  <span class="n">use</span> <span class="n">UniqueRecordValidator</span>

  <span class="c1"># Use the `custom` class name predicate as follow</span>
  <span class="n">validate</span> <span class="n">email</span><span class="p">,</span> <span class="ss">match</span><span class="p">:</span> <span class="sr">/\w+@\w+\.\w{2,3}/</span><span class="p">,</span> <span class="ss">message</span><span class="p">:</span> <span class="s2">&quot;Email must be valid!&quot;</span><span class="p">,</span> <span class="ss">unique_record</span><span class="p">:</span> <span class="kc">true</span>
  <span class="n">validate</span> <span class="n">name</span><span class="p">,</span> <span class="ss">size</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="p">)</span>
  <span class="n">validate</span> <span class="n">age</span><span class="p">,</span> <span class="ss">gte</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="ss">lte</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="ss">message</span><span class="p">:</span> <span class="s2">&quot;Must be 24 and 30 years old&quot;</span>
  <span class="n">validate</span> <span class="n">alive</span><span class="p">,</span> <span class="ss">eq</span><span class="p">:</span> <span class="kc">true</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@email</span><span class="p">,</span> <span class="vi">@name</span><span class="p">,</span> <span class="vi">@age</span><span class="p">,</span> <span class="vi">@alive</span><span class="p">,</span> <span class="vi">@childrens</span><span class="p">,</span> <span class="vi">@childrens_ages</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="custom-validations">Custom Validations</h3>
<p>Simply create a class <code>{Name}Validator</code> with the following signature:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EmailValidator</span> <span class="o">&lt;</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Validator</span>
  <span class="bp">getter</span> <span class="ss">:record</span><span class="p">,</span> <span class="ss">:field</span><span class="p">,</span> <span class="ss">:message</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@record</span> <span class="p">:</span> <span class="n">UserModel</span><span class="p">)</span>
    <span class="vi">@field</span> <span class="o">=</span> <span class="ss">:email</span>
    <span class="vi">@message</span> <span class="o">=</span> <span class="s2">&quot;Email must be valid!&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">valid?</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Schema</span><span class="o">::</span><span class="n">Error</span><span class="p">)</span>
    <span class="o">[]</span> <span class="k">of</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Error</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">UniqueRecordValidator</span> <span class="o">&lt;</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Validator</span>
  <span class="bp">getter</span> <span class="ss">:record</span><span class="p">,</span> <span class="ss">:field</span><span class="p">,</span> <span class="ss">:message</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@record</span> <span class="p">:</span> <span class="n">UserModel</span><span class="p">)</span>
    <span class="vi">@field</span> <span class="o">=</span> <span class="ss">:email</span>
    <span class="vi">@message</span> <span class="o">=</span> <span class="s2">&quot;Record must be unique!&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">valid?</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Schema</span><span class="o">::</span><span class="n">Error</span><span class="p">)</span>
    <span class="o">[]</span> <span class="k">of</span> <span class="n">Schema</span><span class="o">::</span><span class="n">Error</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="defining-predicates">Defining Predicates</h3>
<p>You can define your custom predicates by simply creating a custom validator or creating methods in the <code>Schema::Predicates</code> module ending with <code>?</code> and it should return a <code>boolean</code>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="n">Model</span>
  <span class="bp">property</span> <span class="n">email</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">name</span> <span class="p">:</span> <span class="n">String</span>
  <span class="bp">property</span> <span class="n">age</span> <span class="p">:</span> <span class="n">Int32</span>
  <span class="bp">property</span> <span class="n">alive</span> <span class="p">:</span> <span class="n">Bool</span>
  <span class="bp">property</span> <span class="n">childrens</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
  <span class="bp">property</span> <span class="n">childrens_ages</span> <span class="p">:</span> <span class="n">Array</span><span class="p">(</span><span class="n">Int32</span><span class="p">)</span>

  <span class="o">...</span>

  <span class="c1"># Uses a `presense` predicate</span>
  <span class="n">validate</span> <span class="n">password</span> <span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="ss">presence</span><span class="p">:</span> <span class="kc">true</span>

  <span class="c1"># Use the `predicates` macro to define predicate methods</span>
  <span class="n">predicates</span> <span class="k">do</span>
    <span class="c1"># Presence Predicate Definition</span>
    <span class="k">def</span> <span class="nf">presence?</span><span class="p">(</span><span class="n">password</span> <span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">_other</span> <span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">:</span> <span class="n">Bool</span>
      <span class="o">!</span><span class="n">value</span><span class="kp">.nil?</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@email</span><span class="p">,</span> <span class="vi">@name</span><span class="p">,</span> <span class="vi">@age</span><span class="p">,</span> <span class="vi">@alive</span><span class="p">,</span> <span class="vi">@childrens</span><span class="p">,</span> <span class="vi">@childrens_ages</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="differences-custom-validator-vs-predicates">Differences: Custom Validator vs Predicates</h3>
<p>The differences between a custom validator and a method predicate are:</p>
<p><strong>Custom Validators</strong>
-   Must be inherited from <code>Schema::Validator</code> abstract
-   Receives an instance of the object as a <code>record</code> instance var.
-   Must have a <code>:field</code> and <code>:message</code> defined.
-   Must implement a <code>def valid? : Array(Schema::Error)</code> method.</p>
<p><strong>Predicates</strong>
-   Assertions of the property value against an expected value.
-   Predicates are light weight boolean methods.
-   Predicates methods must be defined as <code>def {predicate}?(property_value, expected_value) : Bool</code> .</p>
<h3 id="built-in-predicates">Built in Predicates</h3>
<p>These are the current available predicates.</p>
<div class="highlight"><pre><span></span><code><span class="n">gte</span>   <span class="o">-</span> <span class="n">Greater</span> <span class="n">Than</span> <span class="n">or</span> <span class="n">Equal</span> <span class="n">To</span>
<span class="n">lte</span>   <span class="o">-</span> <span class="n">Less</span> <span class="n">Than</span> <span class="n">or</span> <span class="n">Equal</span> <span class="n">To</span>
<span class="n">gt</span>    <span class="o">-</span> <span class="n">Greater</span> <span class="n">Than</span>
<span class="n">lt</span>    <span class="o">-</span> <span class="n">Less</span> <span class="n">Than</span>
<span class="n">size</span>  <span class="o">-</span> <span class="n">Size</span>
<span class="k">in</span>    <span class="o">-</span> <span class="n">Inclusion</span>
<span class="n">regex</span> <span class="o">-</span> <span class="n">Regular</span> <span class="n">Expression</span>
<span class="n">eq</span>    <span class="o">-</span> <span class="n">Equal</span>
</code></pre></div>
<blockquote>
<p><strong>CONTRIBUTE</strong> - Add more predicates to this shards by contributing a Pull Request. </p>
</blockquote>
<p>Additional params</p>
<div class="highlight"><pre><span></span><code><span class="n">message</span> <span class="o">-</span> <span class="n">Error</span> <span class="n">message</span> <span class="n">to</span> <span class="n">display</span>
<span class="n">nilable</span> <span class="o">-</span> <span class="n">Allow</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">true</span> <span class="n">or</span> <span class="kc">false</span>
</code></pre></div>
<h2 id="contributing">Contributing</h2>
<ol>
<li>Fork it (<a href="https://github.com/azutoolkit/schemas/fork">https://github.com/azutoolkit/schemas/fork</a>)</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
<h2 id="contributors">Contributors</h2>
<ul>
<li><a href="https://github.com/eliasjpr">@eliasjpr</a> Elias J. Perez - creator, maintainer</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../joobq/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                JoobQ
              </div>
            </div>
          </a>
        
        
          <a href="../azu/Azu/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Azu
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.53cc9318.min.js"></script>
      <script src="../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.instant', 'navigation.tabs', 'navigation.tabs.sticky', 'navigation.sections', 'search.suggest', 'search.highlight', 'search.share'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>